import{b as D,F as Q,r as n,o as C,c as B,w as t,d as e,m as T,u as a,e as d,t as W,f as w,g as X,h as Y,i as Z,a as v,j as O,k as q,l as $,n as ee,p as A,D as te,U as ae}from"./index.9da1cd9f.js";const oe=d("0"),ne=d("1"),le=d("2"),se={__name:"CreateFormModal",props:{title:String,visible:Boolean,formRef:Object},emits:["update:visible"],setup(r,{emit:x}){const{formRef:s}=r,m={span:4},I={span:14},N=D({no:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C4\u5219\u7F16\u53F7"}],status:[{required:!0,message:"\u8BF7\u9009\u62E9\u72B6\u6001"}]}),{resetFields:_,validate:g,validateInfos:h}=Q.useForm(s,N),b=()=>{x("update:visible",!1)},c=()=>{g().then(()=>{console.log(W(s))}).catch(p=>{console.log("error",p)})};return(p,i)=>{const z=n("a-input"),S=n("a-form-item"),k=n("a-select-option"),u=n("a-select"),o=n("a-form"),y=n("a-modal");return C(),B(y,{title:r.title,visible:r.visible,onCancel:b,onOk:c},{default:t(()=>[e(o,{"label-col":m,"wrapper-col":I},{default:t(()=>[e(S,T({label:"\u89C4\u5219\u7F16\u53F7"},a(h).no),{default:t(()=>[e(z,{value:r.formRef.no,"onUpdate:value":i[0]||(i[0]=f=>r.formRef.no=f)},null,8,["value"])]),_:1},16),e(S,T({label:"\u72B6\u6001"},a(h).status),{default:t(()=>[e(u,{value:r.formRef.status,"onUpdate:value":i[1]||(i[1]=f=>r.formRef.status=f)},{default:t(()=>[e(k,{value:0},{default:t(()=>[oe]),_:1}),e(k,{value:1},{default:t(()=>[ne]),_:1}),e(k,{value:2},{default:t(()=>[le]),_:1})]),_:1},8,["value"])]),_:1},16)]),_:1})]),_:1},8,["title","visible"])}}};function ie(r,{defaultQueryParam:x={},formatQueryParam:s=_=>_,formatReturnData:m=_=>_.data,params:I=w({}),manual:N=!1}){const _=w({...x}),g=w(!1),h=w([]),b=w(!1),c=D({hideOnSinglePage:!0,pageSize:10,total:0,current:1}),p=()=>{g.value=!g.value},i=()=>{b.value=!0,r(s({..._.value,current:c.current,pageSize:c.pageSize,...I.value})).then(u=>{const{list:o,total:y}=m(u);h.value=o,c.total=y,b.value=!1}).catch(()=>{b.value=!1})},z=()=>{c.current=1,i()},S=()=>{_.value=x,c.current=1,i()},k=u=>{c.current=u.current,c.pageSize=u.pageSize,i()};return X(()=>{N||i()}),{queryParam:_,advanced:g,dataSource:h,pagination:c,loading:b,toggleAdvanced:p,search:z,reset:S,getDataList:i,handleTableChange:k}}const ue={class:"table-page-search-wrapper"},de=d("\u5168\u90E8"),ce=d("\u5173\u95ED"),re=d("\u8FD0\u884C\u4E2D"),_e=d("\u5168\u90E8"),me=d("\u5173\u95ED"),pe=d("\u8FD0\u884C\u4E2D"),fe=d("\u67E5\u8BE2"),ve=d("\u91CD\u7F6E"),ge={class:"table-page-wrapper"},be={class:"table-page-toolbar"},he=v("div",{class:"table-title"},"\u67E5\u8BE2\u8868\u683C",-1),ke={class:"table-operation"},ye=d("\u65B0\u5EFA"),Ce={key:1},we=["onClick"],xe=v("a",null,"\u8BA2\u9605\u62A5\u8B66",-1),Se=Y({name:"TableList"}),Ie=Object.assign(Se,{setup(r){const x=w({}),{queryParam:s,advanced:m,dataSource:I,pagination:N,loading:_,toggleAdvanced:g,search:h,reset:b,handleTableChange:c}=ie(Z,{defaultQueryParam:{status:"0",useStatus:"0"},params:x}),p=w(!1),i=D({no:"",status:""}),z=u=>{const{no:o,status:y}=u;i.no=o,i.status=y,p.value=!0},S=[{title:"#",key:"serial"},{title:"\u89C4\u5219\u7F16\u53F7",dataIndex:"no"},{title:"\u63CF\u8FF0",dataIndex:"description"},{title:"\u670D\u52A1\u8C03\u7528\u6B21\u6570",dataIndex:"callNo"},{title:"\u72B6\u6001",dataIndex:"status"},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatedAt"},{title:"\u64CD\u4F5C",dataIndex:"action",width:"150px"}],k={onChange:(u,o)=>{console.log(u),console.log(o)},getCheckboxProps:u=>({disabled:u.id===2,name:u.name})};return(u,o)=>{const y=n("a-input"),f=n("a-form-item"),U=n("a-col"),R=n("a-select-option"),P=n("a-select"),V=n("a-input-number"),j=n("a-date-picker"),F=n("a-button"),L=n("a-row"),M=n("a-form"),E=n("a-divider"),G=n("a-table"),H=n("page-container");return C(),B(H,null,{default:t(()=>[v("div",ue,[e(M,{layout:"inline"},{default:t(()=>[e(L,{gutter:48},{default:t(()=>[e(U,{md:8,sm:24},{default:t(()=>[e(f,{label:"\u89C4\u5219\u7F16\u53F7"},{default:t(()=>[e(y,{value:a(s).id,"onUpdate:value":o[0]||(o[0]=l=>a(s).id=l),placeholder:""},null,8,["value"])]),_:1})]),_:1}),e(U,{md:8,sm:24},{default:t(()=>[e(f,{label:"\u4F7F\u7528\u72B6\u6001"},{default:t(()=>[e(P,{value:a(s).status,"onUpdate:value":o[1]||(o[1]=l=>a(s).status=l),placeholder:"\u8BF7\u9009\u62E9"},{default:t(()=>[e(R,{value:"0"},{default:t(()=>[de]),_:1}),e(R,{value:"1"},{default:t(()=>[ce]),_:1}),e(R,{value:"2"},{default:t(()=>[re]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),a(m)?(C(),O(q,{key:0},[e(U,{md:8,sm:24},{default:t(()=>[e(f,{label:"\u8C03\u7528\u6B21\u6570"},{default:t(()=>[e(V,{value:a(s).callNo,"onUpdate:value":o[2]||(o[2]=l=>a(s).callNo=l),style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),e(U,{md:8,sm:24},{default:t(()=>[e(f,{label:"\u66F4\u65B0\u65E5\u671F"},{default:t(()=>[e(j,{value:a(s).date,"onUpdate:value":o[3]||(o[3]=l=>a(s).date=l),style:{width:"100%"},placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u65E5\u671F"},null,8,["value"])]),_:1})]),_:1}),e(U,{md:8,sm:24},{default:t(()=>[e(f,{label:"\u4F7F\u7528\u72B6\u6001"},{default:t(()=>[e(P,{value:a(s).useStatus,"onUpdate:value":o[4]||(o[4]=l=>a(s).useStatus=l),placeholder:"\u8BF7\u9009\u62E9"},{default:t(()=>[e(R,{value:"0"},{default:t(()=>[_e]),_:1}),e(R,{value:"1"},{default:t(()=>[me]),_:1}),e(R,{value:"2"},{default:t(()=>[pe]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})],64)):$("",!0),e(U,{md:!a(m)&&8||24,sm:24},{default:t(()=>[v("span",{class:"table-page-search-submitButtons",style:ee(a(m)&&{float:"right",overflow:"hidden"}||{})},[e(F,{type:"primary",onClick:a(h)},{default:t(()=>[fe]),_:1},8,["onClick"]),e(F,{style:{"margin-left":"8px"},onClick:a(b)},{default:t(()=>[ve]),_:1},8,["onClick"]),v("a",{style:{"margin-left":"8px"},onClick:o[5]||(o[5]=(...l)=>a(g)&&a(g)(...l))},[d(A(a(m)?" \u6536\u8D77 ":" \u5C55\u5F00 ")+" ",1),a(m)?(C(),B(a(te),{key:0})):(C(),B(a(ae),{key:1}))])],4)]),_:1},8,["md"])]),_:1})]),_:1})]),v("div",ge,[v("div",be,[he,v("div",ke,[e(F,{type:"primary",onClick:o[6]||(o[6]=l=>p.value=!0)},{default:t(()=>[ye]),_:1})])]),e(G,{"row-key":"id",loading:a(_),"data-source":a(I),columns:S,pagination:a(N),"row-selection":k,onChange:a(c)},{bodyCell:t(({column:l,record:J,index:K})=>[l.key==="serial"?(C(),O(q,{key:0},[d(A(K+1),1)],64)):$("",!0),l.dataIndex==="action"?(C(),O("span",Ce,[v("a",{onClick:Ue=>z(J)},"\u914D\u7F6E",8,we),e(E,{type:"vertical"}),xe])):$("",!0)]),_:1},8,["loading","data-source","pagination","onChange"])]),e(se,{visible:p.value,"onUpdate:visible":o[7]||(o[7]=l=>p.value=l),title:"\u65B0\u5EFA\u89C4\u5219","form-ref":i},null,8,["visible","form-ref"])]),_:1})}}});export{Ie as default};
