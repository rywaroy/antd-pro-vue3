import{f as A,s as F,g as M,q as G,h as H,i as J,r as s,o as h,c as I,w as t,a as v,d as e,u as a,j as N,k as B,l as U,n as K,e as c,p as O,D as W,U as X}from"./index.584187fa.js";function Y(o,S,d={}){const{defaultQueryParam:m={},formatQueryParam:x=u=>u,formatReturnData:w=u=>u.data,params:P=A({}),manual:y=!1}=d,i=S(),{queryParam:k,dataSource:T,pagination:b,advanced:C}=F(i),r=A(!1),n=()=>{i.setAdvanced(!C.value)},f=()=>{r.value=!0,o(x({...k.value,current:b.value.current,pageSize:b.value.pageSize,...P.value})).then(u=>{const{list:z,total:D}=w(u);i.setData(z),i.setTotal(D),r.value=!1}).catch(()=>{r.value=!1})},g=()=>{i.setCurrent(1),f()},_=()=>{i.setQueryParam({...m}),i.setCurrent(1),f()},p=u=>{i.setCurrent(u.current),i.setPageSize(u.pageSize),f()};return M(()=>{y||f()}),{queryParam:k,advanced:C,dataSource:T,pagination:b,loading:r,toggleAdvanced:n,search:g,reset:_,getDataList:f,handleTableChange:p}}const Z=G({id:"storeTable",state:()=>({queryParam:{},dataSource:[],pagination:{hideOnSinglePage:!0,pageSize:10,total:0,current:1},advanced:!1}),actions:{setData(o){this.dataSource=o},setTotal(o){this.pagination.total=o},setCurrent(o){this.pagination.current=o},setPageSize(o){this.pagination.pageSize=o},setQueryParam(o){this.queryParam=o},setAdvanced(o){this.advanced=o}}}),$={class:"table-page-search-wrapper"},ee=c("\u5168\u90E8"),te=c("\u5173\u95ED"),ae=c("\u8FD0\u884C\u4E2D"),ne=c("\u5168\u90E8"),oe=c("\u5173\u95ED"),le=c("\u8FD0\u884C\u4E2D"),se=c("\u67E5\u8BE2"),de=c("\u91CD\u7F6E"),ie={class:"table-page-wrapper"},ue=v("div",{class:"table-page-toolbar"},[v("div",{class:"table-title"},"\u6570\u636E\u6301\u4E45\u5316\u8868\u683C")],-1),re={key:1},ce=v("a",null,"\u8BA2\u9605\u62A5\u8B66",-1),_e=H({name:"TableList"}),me=Object.assign(_e,{setup(o){const S=A({}),{queryParam:d,advanced:m,dataSource:x,pagination:w,loading:P,toggleAdvanced:y,search:i,reset:k,handleTableChange:T}=Y(J,Z,{params:S}),b=[{title:"#",key:"serial"},{title:"\u89C4\u5219\u7F16\u53F7",dataIndex:"no"},{title:"\u63CF\u8FF0",dataIndex:"description"},{title:"\u670D\u52A1\u8C03\u7528\u6B21\u6570",dataIndex:"callNo"},{title:"\u72B6\u6001",dataIndex:"status"},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatedAt"},{title:"\u64CD\u4F5C",dataIndex:"action",width:"150px"}],C={onChange:(r,n)=>{console.log(r),console.log(n)},getCheckboxProps:r=>({disabled:r.id===2,name:r.name})};return(r,n)=>{const f=s("a-input"),g=s("a-form-item"),_=s("a-col"),p=s("a-select-option"),u=s("a-select"),z=s("a-input-number"),D=s("a-date-picker"),q=s("a-button"),Q=s("a-row"),V=s("a-form"),L=s("a-divider"),j=s("a-table"),R=s("page-container");return h(),I(R,null,{default:t(()=>[v("div",$,[e(V,{layout:"inline"},{default:t(()=>[e(Q,{gutter:48},{default:t(()=>[e(_,{md:8,sm:24},{default:t(()=>[e(g,{label:"\u89C4\u5219\u7F16\u53F7"},{default:t(()=>[e(f,{value:a(d).id,"onUpdate:value":n[0]||(n[0]=l=>a(d).id=l),placeholder:""},null,8,["value"])]),_:1})]),_:1}),e(_,{md:8,sm:24},{default:t(()=>[e(g,{label:"\u4F7F\u7528\u72B6\u6001"},{default:t(()=>[e(u,{value:a(d).status,"onUpdate:value":n[1]||(n[1]=l=>a(d).status=l),placeholder:"\u8BF7\u9009\u62E9"},{default:t(()=>[e(p,{value:"0"},{default:t(()=>[ee]),_:1}),e(p,{value:"1"},{default:t(()=>[te]),_:1}),e(p,{value:"2"},{default:t(()=>[ae]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),a(m)?(h(),N(B,{key:0},[e(_,{md:8,sm:24},{default:t(()=>[e(g,{label:"\u8C03\u7528\u6B21\u6570"},{default:t(()=>[e(z,{value:a(d).callNo,"onUpdate:value":n[2]||(n[2]=l=>a(d).callNo=l),style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),e(_,{md:8,sm:24},{default:t(()=>[e(g,{label:"\u66F4\u65B0\u65E5\u671F"},{default:t(()=>[e(D,{value:a(d).date,"onUpdate:value":n[3]||(n[3]=l=>a(d).date=l),style:{width:"100%"},placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u65E5\u671F"},null,8,["value"])]),_:1})]),_:1}),e(_,{md:8,sm:24},{default:t(()=>[e(g,{label:"\u4F7F\u7528\u72B6\u6001"},{default:t(()=>[e(u,{value:a(d).useStatus,"onUpdate:value":n[4]||(n[4]=l=>a(d).useStatus=l),placeholder:"\u8BF7\u9009\u62E9"},{default:t(()=>[e(p,{value:"0"},{default:t(()=>[ne]),_:1}),e(p,{value:"1"},{default:t(()=>[oe]),_:1}),e(p,{value:"2"},{default:t(()=>[le]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})],64)):U("",!0),e(_,{md:!a(m)&&8||24,sm:24},{default:t(()=>[v("span",{class:"table-page-search-submitButtons",style:K(a(m)&&{float:"right",overflow:"hidden"}||{})},[e(q,{type:"primary",onClick:a(i)},{default:t(()=>[se]),_:1},8,["onClick"]),e(q,{style:{"margin-left":"8px"},onClick:a(k)},{default:t(()=>[de]),_:1},8,["onClick"]),v("a",{style:{"margin-left":"8px"},onClick:n[5]||(n[5]=(...l)=>a(y)&&a(y)(...l))},[c(O(a(m)?" \u6536\u8D77 ":" \u5C55\u5F00 ")+" ",1),a(m)?(h(),I(a(W),{key:0})):(h(),I(a(X),{key:1}))])],4)]),_:1},8,["md"])]),_:1})]),_:1})]),v("div",ie,[ue,e(j,{"row-key":"id",loading:a(P),"data-source":a(x),columns:b,pagination:a(w),"row-selection":C,onChange:a(T)},{bodyCell:t(({column:l,index:E})=>[l.key==="serial"?(h(),N(B,{key:0},[c(O(E+1),1)],64)):U("",!0),l.dataIndex==="action"?(h(),N("span",re,[e(L,{type:"vertical"}),ce])):U("",!0)]),_:1},8,["loading","data-source","pagination","onChange"])])]),_:1})}}});export{me as default};
