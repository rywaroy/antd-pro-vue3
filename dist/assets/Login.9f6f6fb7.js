import{_ as U,z as q,A as B,f,b as g,F as C,r as s,o as F,j as K,d as e,w as o,B as v,C as h,u as c,E as N,e as I,G as R,H as V,I as A,a as E}from"./index.584187fa.js";import{U as O,L as P}from"./UserOutlined.d75e76c9.js";const j=l=>(R("data-v-e0bc9930"),l=l(),V(),l),G={class:"login"},H=I("\u8BB0\u4F4F\u5BC6\u7801"),T=j(()=>E("a",{class:"forge-password",style:{float:"right"}},"\u5FD8\u8BB0\u5BC6\u7801",-1)),D=I(" \u767B\u5F55 "),J={__name:"Login",setup(l){const m=q(),p=B(),r=f(!1),d=f(!1),a=g({username:"",password:""}),b=g({username:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}]}),{validate:x,validateInfos:_}=C.useForm(a,b);window.localStorage.getItem("remember")&&(d.value=!0,a.username=window.localStorage.getItem("username"),a.password=window.localStorage.getItem("password"));const w=()=>{r.value||x().then(u=>{r.value=!0,A(u).then(()=>{r.value=!1,d.value?(window.localStorage.setItem("remember",!0),window.localStorage.setItem("username",u.username),window.localStorage.setItem("password",u.password)):(window.localStorage.removeItem("remember"),window.localStorage.removeItem("username"),window.localStorage.removeItem("password")),p.query.redirect?m.push(p.query.redirect):m.push("/")}).catch(()=>{r.value=!1})})};return(u,t)=>{const y=s("a-input"),i=s("a-form-item"),S=s("a-input-password"),k=s("a-checkbox"),z=s("a-button"),L=s("a-form");return F(),K("div",G,[e(L,null,{default:o(()=>[e(i,v(h(c(_).username)),{default:o(()=>[e(y,{value:a.username,"onUpdate:value":t[0]||(t[0]=n=>a.username=n),size:"large",type:"text",placeholder:"\u8D26\u53F7\uFF1Aadmin","allow-clear":""},{prefix:o(()=>[e(c(O))]),_:1},8,["value"])]),_:1},16),e(i,v(h(c(_).password)),{default:o(()=>[e(S,{value:a.password,"onUpdate:value":t[1]||(t[1]=n=>a.password=n),size:"large",placeholder:"\u5BC6\u7801\uFF1Aadmin",onKeydown:N(w,["enter"])},{prefix:o(()=>[e(c(P))]),_:1},8,["value","onKeydown"])]),_:1},16),e(i,null,{default:o(()=>[e(k,{checked:d.value,"onUpdate:checked":t[2]||(t[2]=n=>d.value=n),style:{float:"left"}},{default:o(()=>[H]),_:1},8,["checked"]),T]),_:1}),e(i,{style:{"margin-top":"24px"}},{default:o(()=>[e(z,{size:"large",block:"",type:"primary",class:"login-button",loading:r.value,onClick:w},{default:o(()=>[D]),_:1},8,["loading"])]),_:1})]),_:1})])}}};var W=U(J,[["__scopeId","data-v-e0bc9930"]]);export{W as default};
