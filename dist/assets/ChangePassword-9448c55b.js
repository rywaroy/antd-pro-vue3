import{_ as h,x as y,g as C,d as f,F as U,r as l,a as k,i as q,e,w as a,z as p,A as i,u as r,f as F,G as B}from"./index-1188125c.js";import{U as I,L as m}from"./UserOutlined-725ef469.js";const L={class:"change-password"},N={__name:"ChangePassword",setup(O){const w=y(),u=C(!1),s=f({username:"",oldPassword:"",password:"",newPassword:""}),v=f({username:[{required:!0,message:"请输入账号"}],oldPassword:[{required:!0,message:"请输入旧密码"}],password:[{required:!0,message:"请输入密码"}],newPassword:[{required:!0,message:"请输入确认密码"},{validator:(c,o)=>o!==s.password?Promise.reject("两次输入的密码不一致"):Promise.resolve()}]}),{validate:g,validateInfos:d}=U.useForm(s,v),P=()=>{u.value||g().then(c=>{u.value=!0,setTimeout(()=>{u.value=!0,w.push({name:"login"}),B.success("修改成功")},1e3)})};return(c,o)=>{const x=l("a-input"),n=l("a-form-item"),_=l("a-input-password"),b=l("a-button"),z=l("a-form");return k(),q("div",L,[e(z,null,{default:a(()=>[e(n,p(i(r(d).username)),{default:a(()=>[e(x,{value:s.username,"onUpdate:value":o[0]||(o[0]=t=>s.username=t),size:"large",type:"text",placeholder:"账号","allow-clear":""},{prefix:a(()=>[e(r(I))]),_:1},8,["value"])]),_:1},16),e(n,p(i(r(d).oldPassword)),{default:a(()=>[e(_,{value:s.oldPassword,"onUpdate:value":o[1]||(o[1]=t=>s.oldPassword=t),size:"large",placeholder:"旧密码"},{prefix:a(()=>[e(r(m))]),_:1},8,["value"])]),_:1},16),e(n,p(i(r(d).password)),{default:a(()=>[e(_,{value:s.password,"onUpdate:value":o[2]||(o[2]=t=>s.password=t),size:"large",placeholder:"新密码"},{prefix:a(()=>[e(r(m))]),_:1},8,["value"])]),_:1},16),e(n,p(i(r(d).newPassword)),{default:a(()=>[e(_,{value:s.newPassword,"onUpdate:value":o[3]||(o[3]=t=>s.newPassword=t),size:"large",placeholder:"确认密码"},{prefix:a(()=>[e(r(m))]),_:1},8,["value"])]),_:1},16),e(n,{style:{"margin-top":"24px"}},{default:a(()=>[e(b,{size:"large",block:"",type:"primary",class:"login-button",loading:u.value,onClick:P},{default:a(()=>[F(" 修改 ")]),_:1},8,["loading"])]),_:1})]),_:1})])}}},V=h(N,[["__scopeId","data-v-75cfbaab"]]);export{V as default};
