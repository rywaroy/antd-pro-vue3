import{_ as U,x as q,y as B,g as f,d as g,F as C,r as s,a as F,i as K,e,w as o,z as v,A as h,u as i,B as N,f as y,C as R,D as V,E as A,b as E}from"./index-1188125c.js";import{U as O,L as P}from"./UserOutlined-725ef469.js";const D=l=>(V("data-v-57086192"),l=l(),A(),l),T={class:"login"},j=D(()=>E("a",{class:"forge-password",style:{float:"right"}},"忘记密码",-1)),G={__name:"Login",setup(l){const m=q(),p=B(),r=f(!1),u=f(!1),a=g({username:"",password:""}),I=g({username:[{required:!0,message:"请输入账号"}],password:[{required:!0,message:"请输入密码"}]}),{validate:x,validateInfos:_}=C.useForm(a,I);window.localStorage.getItem("remember")&&(u.value=!0,a.username=window.localStorage.getItem("username"),a.password=window.localStorage.getItem("password"));const w=()=>{r.value||x().then(d=>{r.value=!0,R(d).then(()=>{r.value=!1,u.value?(window.localStorage.setItem("remember",!0),window.localStorage.setItem("username",d.username),window.localStorage.setItem("password",d.password)):(window.localStorage.removeItem("remember"),window.localStorage.removeItem("username"),window.localStorage.removeItem("password")),p.query.redirect?m.push(p.query.redirect):m.push("/")}).catch(()=>{r.value=!1})})};return(d,t)=>{const S=s("a-input"),c=s("a-form-item"),b=s("a-input-password"),k=s("a-checkbox"),z=s("a-button"),L=s("a-form");return F(),K("div",T,[e(L,null,{default:o(()=>[e(c,v(h(i(_).username)),{default:o(()=>[e(S,{value:a.username,"onUpdate:value":t[0]||(t[0]=n=>a.username=n),size:"large",type:"text",placeholder:"账号：admin","allow-clear":""},{prefix:o(()=>[e(i(O))]),_:1},8,["value"])]),_:1},16),e(c,v(h(i(_).password)),{default:o(()=>[e(b,{value:a.password,"onUpdate:value":t[1]||(t[1]=n=>a.password=n),size:"large",placeholder:"密码：admin",onKeydown:N(w,["enter"])},{prefix:o(()=>[e(i(P))]),_:1},8,["value","onKeydown"])]),_:1},16),e(c,null,{default:o(()=>[e(k,{checked:u.value,"onUpdate:checked":t[2]||(t[2]=n=>u.value=n),style:{float:"left"}},{default:o(()=>[y("记住密码")]),_:1},8,["checked"]),j]),_:1}),e(c,{style:{"margin-top":"24px"}},{default:o(()=>[e(z,{size:"large",block:"",type:"primary",class:"login-button",loading:r.value,onClick:w},{default:o(()=>[y(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1})])}}},M=U(G,[["__scopeId","data-v-57086192"]]);export{M as default};
