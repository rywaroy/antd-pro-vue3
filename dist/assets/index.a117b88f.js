import{s as M,f as U,g as R,q as G,h as H,i as J,r as d,o as v,c as D,w as t,a as f,d as e,u as a,j as I,k as q,l as N,n as K,e as r,p as B,D as W,U as X}from"./index.4a0f4adf.js";function Y(l,C,{defaultQueryParam:i={},formatQueryParam:_=o=>o,formatReturnData:S=o=>o.data,params:x=U({}),manual:w=!1}){const o=C(),{queryParam:b,dataSource:P,pagination:h,advanced:y}=M(o),g=U(!1),p=()=>{o.setAdvanced(!y.value)},n=()=>{g.value=!0,l(_({...b.value,current:h.value.current,pageSize:h.value.pageSize,...x.value})).then(u=>{const{list:k,total:z}=S(u);o.setData(k),o.setTotal(z),g.value=!1}).catch(()=>{g.value=!1})},T=()=>{o.setCurrent(1),n()},m=()=>{o.setQueryParam({...i}),o.setCurrent(1),n()},c=u=>{o.setCurrent(u.current),o.setPageSize(u.pageSize),n()};return R(()=>{w||n()}),{queryParam:b,advanced:y,dataSource:P,pagination:h,loading:g,toggleAdvanced:p,search:T,reset:m,getDataList:n,handleTableChange:c}}const Z=G({id:"storeTable",state:()=>({queryParam:{},dataSource:[],pagination:{hideOnSinglePage:!0,pageSize:10,total:0,current:1},advanced:!1}),actions:{setData(l){this.dataSource=l},setTotal(l){this.pagination.total=l},setCurrent(l){this.pagination.current=l},setPageSize(l){this.pagination.pageSize=l},setQueryParam(l){this.queryParam=l},setAdvanced(l){this.advanced=l}}}),$={class:"table-page-search-wrapper"},ee=r("\u5168\u90E8"),te=r("\u5173\u95ED"),ae=r("\u8FD0\u884C\u4E2D"),ne=r("\u5168\u90E8"),oe=r("\u5173\u95ED"),le=r("\u8FD0\u884C\u4E2D"),se=r("\u67E5\u8BE2"),de=r("\u91CD\u7F6E"),ie={class:"table-page-wrapper"},ue=f("div",{class:"table-page-toolbar"},[f("div",{class:"table-title"},"\u6570\u636E\u6301\u4E45\u5316\u8868\u683C")],-1),re={key:1},ce=f("a",null,"\u8BA2\u9605\u62A5\u8B66",-1),_e=H({name:"TableList"}),me=Object.assign(_e,{setup(l){const C=U({}),{queryParam:i,advanced:_,dataSource:S,pagination:x,loading:w,toggleAdvanced:o,search:b,reset:P,handleTableChange:h}=Y(J,Z,{params:C}),y=[{title:"#",key:"serial"},{title:"\u89C4\u5219\u7F16\u53F7",dataIndex:"no"},{title:"\u63CF\u8FF0",dataIndex:"description"},{title:"\u670D\u52A1\u8C03\u7528\u6B21\u6570",dataIndex:"callNo"},{title:"\u72B6\u6001",dataIndex:"status"},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatedAt"},{title:"\u64CD\u4F5C",dataIndex:"action",width:"150px"}],g={onChange:(p,n)=>{console.log(p),console.log(n)},getCheckboxProps:p=>({disabled:p.id===2,name:p.name})};return(p,n)=>{const T=d("a-input"),m=d("a-form-item"),c=d("a-col"),u=d("a-select-option"),k=d("a-select"),z=d("a-input-number"),O=d("a-date-picker"),A=d("a-button"),V=d("a-row"),L=d("a-form"),j=d("a-divider"),Q=d("a-table"),E=d("page-container");return v(),D(E,null,{default:t(()=>[f("div",$,[e(L,{layout:"inline"},{default:t(()=>[e(V,{gutter:48},{default:t(()=>[e(c,{md:8,sm:24},{default:t(()=>[e(m,{label:"\u89C4\u5219\u7F16\u53F7"},{default:t(()=>[e(T,{value:a(i).id,"onUpdate:value":n[0]||(n[0]=s=>a(i).id=s),placeholder:""},null,8,["value"])]),_:1})]),_:1}),e(c,{md:8,sm:24},{default:t(()=>[e(m,{label:"\u4F7F\u7528\u72B6\u6001"},{default:t(()=>[e(k,{value:a(i).status,"onUpdate:value":n[1]||(n[1]=s=>a(i).status=s),placeholder:"\u8BF7\u9009\u62E9"},{default:t(()=>[e(u,{value:"0"},{default:t(()=>[ee]),_:1}),e(u,{value:"1"},{default:t(()=>[te]),_:1}),e(u,{value:"2"},{default:t(()=>[ae]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),a(_)?(v(),I(q,{key:0},[e(c,{md:8,sm:24},{default:t(()=>[e(m,{label:"\u8C03\u7528\u6B21\u6570"},{default:t(()=>[e(z,{value:a(i).callNo,"onUpdate:value":n[2]||(n[2]=s=>a(i).callNo=s),style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1}),e(c,{md:8,sm:24},{default:t(()=>[e(m,{label:"\u66F4\u65B0\u65E5\u671F"},{default:t(()=>[e(O,{value:a(i).date,"onUpdate:value":n[3]||(n[3]=s=>a(i).date=s),style:{width:"100%"},placeholder:"\u8BF7\u8F93\u5165\u66F4\u65B0\u65E5\u671F"},null,8,["value"])]),_:1})]),_:1}),e(c,{md:8,sm:24},{default:t(()=>[e(m,{label:"\u4F7F\u7528\u72B6\u6001"},{default:t(()=>[e(k,{value:a(i).useStatus,"onUpdate:value":n[4]||(n[4]=s=>a(i).useStatus=s),placeholder:"\u8BF7\u9009\u62E9"},{default:t(()=>[e(u,{value:"0"},{default:t(()=>[ne]),_:1}),e(u,{value:"1"},{default:t(()=>[oe]),_:1}),e(u,{value:"2"},{default:t(()=>[le]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})],64)):N("",!0),e(c,{md:!a(_)&&8||24,sm:24},{default:t(()=>[f("span",{class:"table-page-search-submitButtons",style:K(a(_)&&{float:"right",overflow:"hidden"}||{})},[e(A,{type:"primary",onClick:a(b)},{default:t(()=>[se]),_:1},8,["onClick"]),e(A,{style:{"margin-left":"8px"},onClick:a(P)},{default:t(()=>[de]),_:1},8,["onClick"]),f("a",{style:{"margin-left":"8px"},onClick:n[5]||(n[5]=(...s)=>a(o)&&a(o)(...s))},[r(B(a(_)?" \u6536\u8D77 ":" \u5C55\u5F00 ")+" ",1),a(_)?(v(),D(a(W),{key:0})):(v(),D(a(X),{key:1}))])],4)]),_:1},8,["md"])]),_:1})]),_:1})]),f("div",ie,[ue,e(Q,{"row-key":"id",loading:a(w),"data-source":a(S),columns:y,pagination:a(x),"row-selection":g,onChange:a(h)},{bodyCell:t(({column:s,index:F})=>[s.key==="serial"?(v(),I(q,{key:0},[r(B(F+1),1)],64)):N("",!0),s.dataIndex==="action"?(v(),I("span",re,[e(j,{type:"vertical"}),ce])):N("",!0)]),_:1},8,["loading","data-source","pagination","onChange"])])]),_:1})}}});export{me as default};
